# oh-my-posh --config private_dot_config\powershell\theme.yaml --debug --shell uni
# night-owlベースだけど、もう跡形もない
# https://ohmyposh.dev/docs/config-overview

$schema: https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json
palette:
  # [Hue 360](https://hue360.herokuapp.com/) で作成
  black: "#111111"
  blue: "#3261ab"
  cyan: "#007fb1"
  dark-blue: "#142744"
  dark-cyan: "#003347"
  dark-green: "#0e4506"
  dark-lime: "#565a07"
  dark-magenta: "#4c0c23"
  dark-orange: "#5f4504"
  dark-red: "#500e17"
  dark-yellow: "#665c00"
  dark-yelloworange: "#625002"
  green: "#23ac0e"
  light-blue: "#d5e0f1"
  light-cyan: "#cae7f2"
  light-green: "#d1f1cc"
  light-lime: "#eef5d3"
  light-magenta: "#f4d2de"
  light-orange: "#f9dfd5"
  light-red: "#f6d4d8"
  light-yellow: "#fffbd5"
  light-yelloworange: "#fcf1d3"
  lime: "#a4c520"
  magenta: "#bf1e56"
  orange: "#da5019"
  red: "#c7243a"
  white: "#d6deeb"
  yellow: "#ffe600"
  yelloworange: "#edad0b"
console_title_template: "{{ if .Segments.Session.SSHSession }}[{{.UserName}}@{{.HostName}}] {{ end }}{{ .PWD }} {{ if .Root }}#{{ else }}${{ end }}"
blocks:
  - type: prompt
    alignment: left
    segments:
      - properties:
          cache_duration: none
        template: "{{ if eq .OS \"windows\" }}\U000F0372{{ else }}{{ .Icon }}{{ end }} {{ if .WSL }}\U000F0372 {{ end }}"
        foreground: p:white
        background: p:black
        type: os
        style: powerline
        foreground_templates:
          - '{{ if eq .OS "windows" }}p:white{{ end }}'
          - '{{ if eq .OS "macos" }}p:white{{ end }}'
          - '{{ if eq .OS "ubuntu" }}p:white{{ end }}'
          - '{{ if eq .OS "centos" }}p:black{{ end }}'
          - '{{ if eq .OS "manjaro" }}p:green{{ end }}'
          - '{{ if eq .OS "arch" }}p:white{{ end }}'
          - '{{ if eq .OS "debian" }}p:white{{ end }}'
          - '{{ if eq .OS "raspbian" }}p:white{{ end }}'
        background_templates:
          - '{{ if eq .OS "windows" }}p:blue{{ end }}'
          - '{{ if eq .OS "macos" }}p:black{{ end }}'
          - '{{ if eq .OS "ubuntu" }}p:orange{{ end }}'
          - '{{ if eq .OS "centos" }}p:yelloworange{{ end }}'
          - '{{ if eq .OS "manjaro" }}p:dark-green{{ end }}'
          - '{{ if eq .OS "arch" }}p:cyan{{ end }}'
          - '{{ if eq .OS "debian" }}p:magenta{{ end }}'
          - '{{ if eq .OS "raspbian" }}p:magenta{{ end }}'
      - properties:
          cache_duration: none
        template: "{{ if .SSHSession }}{{ .HostName }}{{ end }}"
        foreground: p:white
        background: p:black
        type: session
        style: powerline
        foreground_templates:
          - '{{ if eq .OS "windows" }}p:white{{ end }}'
          - '{{ if eq .OS "macos" }}p:white{{ end }}'
          - '{{ if eq .OS "ubuntu" }}p:white{{ end }}'
          - '{{ if eq .OS "centos" }}p:black{{ end }}'
          - '{{ if eq .OS "manjaro" }}p:green{{ end }}'
          - '{{ if eq .OS "arch" }}p:white{{ end }}'
          - '{{ if eq .OS "debian" }}p:white{{ end }}'
          - '{{ if eq .OS "raspbian" }}p:white{{ end }}'
        background_templates:
          - '{{ if eq .OS "windows" }}p:blue{{ end }}'
          - '{{ if eq .OS "macos" }}p:black{{ end }}'
          - '{{ if eq .OS "ubuntu" }}p:orange{{ end }}'
          - '{{ if eq .OS "centos" }}p:yelloworange{{ end }}'
          - '{{ if eq .OS "manjaro" }}p:dark-green{{ end }}'
          - '{{ if eq .OS "arch" }}p:cyan{{ end }}'
          - '{{ if eq .OS "debian" }}p:magenta{{ end }}'
          - '{{ if eq .OS "raspbian" }}p:magenta{{ end }}'
      - properties:
          cache_duration: none
          folder_separator_icon: <p:blue>  </>
          home_icon: "~"
          style: agnoster_full
        template: " {{ .Path }} "
        foreground: p:dark-blue
        powerline_symbol: 
        background: p:light-blue
        type: path
        style: powerline
  - type: prompt
    alignment: right
    segments:
      - properties:
          branch_icon: " "
          cache_duration: none
          fetch_stash_count: true
          fetch_status: true
          fetch_upstream_icon: true
          fetch_worktree_count: true
        template: "{{ .UpstreamIcon }}{{ .HEAD }}{{ .BranchStatus }}{{ if .Working.Changed }}  {{ .Working.String }}{{ end }}{{ if and (.Working.Changed) (.Staging.Changed) }} |{{ end }}{{ if .Staging.Changed }}  {{ .Staging.String }}{{ end }}{{ if gt .StashCount 0 }}  {{ .StashCount }}{{ end }}"
        foreground: p:black
        powerline_symbol: 
        background: p:green
        type: git
        style: powerline
        foreground_templates:
          - "{{ if or (.Working.Changed) (.Staging.Changed) }}p:black{{ end }}"
          - "{{ if and (gt .Ahead 0) (gt .Behind 0) }}p:white{{  }}"
          - "{{ if gt .Ahead 0 }}p:black{{ end }}"
          - "{{ if gt .Behind 0 }}p:white{{ end }}"
        background_templates:
          - "{{ if or (.Working.Changed) (.Staging.Changed) }}p:lime{{ end }}"
          - "{{ if and (gt .Ahead 0) (gt .Behind 0) }}p:magenta{{ end }}"
          - "{{ if gt .Ahead 0 }}p:yelloworange{{ end }}"
          - "{{ if gt .Behind 0 }}p:cyan{{ end }}"
        invert_powerline: true
      - properties:
          cache_duration: none
          charged_icon: "\U000F0079 "
          charging_icon: "\U000F0085 "
          discharging_icon: "\U000F007E "
        template: "{{ if not .Error }} {{ .Icon }} {{ .Percentage }} {{ end }}"
        foreground: "#ffffff"
        powerline_symbol: 
        background: "#8f43f3"
        type: battery
        style: powerline
        invert_powerline: true
      - properties:
          cache_duration: none
          fetch_package_manager: true
          npm_icon: <#cc3a3a></>
          yarn_icon: "<#348cba>\U000F011B</>"
        template:  {{ if .PackageManagerIcon }}{{ .PackageManagerIcon }} {{ end }}{{ .Full }}
        foreground: "#3C873A"
        powerline_symbol: 
        background: "#303030"
        type: node
        style: powerline
        invert_powerline: true
      - properties:
          cache_duration: none
        template:  {{ if .Error }}{{ .Error }}{{ else }}{{ .Full }}{{ end }}
        foreground: "#000000"
        powerline_symbol: 
        background: "#787CB5"
        type: php
        style: powerline
        invert_powerline: true
      - properties:
          cache_duration: none
        template:  {{ if .Error }}{{ .Error }}{{ else }}{{ .Full }}{{ end }}
        foreground: "#000000"
        powerline_symbol: 
        background: "#5F8CC2"
        type: perl
        style: powerline
        invert_powerline: true
      - properties:
          cache_duration: none
        template:  {{ if .Unsupported }}{{ else }}{{ .Full }}{{ end }}
        foreground: "#0d6da8"
        powerline_symbol: 
        background: "#0e0e0e"
        type: dotnet
        style: powerline
        invert_powerline: true
      - properties:
          cache_duration: none
        template: ﳑ {{ if .Error }}{{ .Error }}{{ else }}{{ .Full }}{{ end }}
        foreground: "#06aad5"
        powerline_symbol: 
        background: "#ffffff"
        type: go
        style: powerline
        invert_powerline: true
      - properties:
          cache_duration: none
        template:  {{ if .Error }}{{ .Error }}{{ else }}{{ .Full }}{{ end }}
        foreground: "#9c1006"
        powerline_symbol: 
        background: "#ffffff"
        type: ruby
        style: powerline
        invert_powerline: true
      - properties:
          cache_duration: none
          style: roundrock
          threshold: 0
        leading_diamond: 
        trailing_diamond: <transparent,p:dark-blue></>
        template: "{{ .FormattedMs }}"
        foreground: p:white
        powerline_symbol: 
        background: p:dark-blue
        type: executiontime
        style: powerline
        invert_powerline: true
      - properties:
          cache_duration: none
        template:  {{ .Name }}
        foreground: "#011627"
        powerline_symbol: 
        background: "#d6deeb"
        type: shell
        style: powerline
        invert_powerline: true
      - properties:
          cache_duration: none
          time_format: "15:04:05"
        trailing_diamond: <p:blue,transparent></>
        template: "\U000F0954 {{ .CurrentDate | date \"15:04:05\" }}"
        foreground: p:white
        background: p:blue
        type: time
        style: diamond
        invert_powerline: true
  - type: prompt
    alignment: left
    segments:
      - properties:
          always_enabled: true
          cache_duration: none
          postfix: " "
          prefix: ""
        template: 
        foreground: p:green
        type: exit
        style: plain
        foreground_templates:
          - "{{ if gt .Code 0 }}p:red{{ end }}"
      - properties:
          cache_duration: none
          postfix: ""
          prefix: ""
        template: "{{ if .Root }}#{{ else }}${{ end }} "
        foreground: p:white
        type: text
        style: plain
        foreground_templates:
          - "{{ if .Root }}p:light-red{{ end }}"
    newline: true
version: 3
