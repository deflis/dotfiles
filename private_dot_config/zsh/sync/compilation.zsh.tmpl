[ -d /usr/local/Library/Contributions ] && fpath=(/usr/local/Library/Contributions ${fpath})
[ -d /usr/local/share/zsh-completions ] && fpath=(/usr/local/share/zsh-completions $fpath)
if type brew &>/dev/null; then
[ -d $(brew --prefix)/share/zsh/site-functions ] && fpath=($(brew --prefix)/share/zsh/site-functions $fpath)
fi

autoload -Uz compinit
compinit 
{{ completion "zsh" }}

if (( $+commands[carapace] )); then
  export CARAPACE_BRIDGES='zsh'
  zstyle ':completion:*' format $'\e[2;37mCompleting %d\e[m'
  zstyle ':completion:*:git:*' group-order 'main commands' 'alias commands' 'external commands'

  eval "$(carapace _carapace)"
fi
